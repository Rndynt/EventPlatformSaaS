"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./lib/middleware/auth.ts":
/*!********************************!*\
  !*** ./lib/middleware/auth.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAuthMiddleware: () => (/* binding */ createAuthMiddleware),\n/* harmony export */   getAuthToken: () => (/* binding */ getAuthToken),\n/* harmony export */   requireAuth: () => (/* binding */ requireAuth),\n/* harmony export */   requireTenantAccess: () => (/* binding */ requireTenantAccess),\n/* harmony export */   verifyAuthToken: () => (/* binding */ verifyAuthToken)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(middleware)/./lib/auth.ts\");\n\n\nfunction getAuthToken(request) {\n    // Try cookie first (more secure)\n    const cookieToken = request.cookies.get('auth-token')?.value;\n    if (cookieToken) {\n        return cookieToken;\n    }\n    // Fall back to Authorization header\n    const authHeader = request.headers.get('authorization');\n    if (authHeader && authHeader.startsWith('Bearer ')) {\n        return authHeader.substring(7);\n    }\n    return null;\n}\nfunction verifyAuthToken(token) {\n    try {\n        const payload = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.verifyJWT)(token);\n        if (!payload) {\n            return null;\n        }\n        return {\n            userId: payload.userId,\n            tenantId: payload.tenantId,\n            role: payload.role,\n            email: payload.email\n        };\n    } catch (error) {\n        console.error('Token verification failed:', error);\n        return null;\n    }\n}\nfunction requireAuth(request) {\n    const token = getAuthToken(request);\n    if (!token) {\n        return {\n            error: next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Authentication required'\n            }, {\n                status: 401\n            })\n        };\n    }\n    const user = verifyAuthToken(token);\n    if (!user) {\n        return {\n            error: next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Invalid or expired token'\n            }, {\n                status: 401\n            })\n        };\n    }\n    return {\n        user\n    };\n}\nfunction requireTenantAccess(user, tenantId) {\n    if (user.tenantId !== tenantId) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Access denied - insufficient permissions'\n        }, {\n            status: 403\n        });\n    }\n    return null;\n}\nfunction createAuthMiddleware() {\n    return (request)=>{\n        const { pathname } = request.nextUrl;\n        // Skip auth for public routes\n        if (pathname.startsWith('/api/health') || pathname.startsWith('/login') || pathname.startsWith('/_next') || pathname.startsWith('/api/v1/register') || pathname.includes('.')) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n        }\n        // Require auth for admin routes\n        if (pathname.startsWith('/admin')) {\n            const authResult = requireAuth(request);\n            if ('error' in authResult) {\n                // Redirect to login page instead of returning JSON\n                const loginUrl = new URL('/login', request.url);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(loginUrl);\n            }\n            // Extract tenant from URL and verify access\n            const pathParts = pathname.split('/');\n            const tenantSlug = pathParts[2]; // /admin/[tenant]\n            if (tenantSlug) {\n                // For security, we'll check tenant access using JWT payload\n                // The JWT should contain tenant information that we can verify\n                const user = authResult.user;\n                // For now, we'll implement a basic tenant slug validation\n                // In a production system, you'd store tenant slug in JWT or make the check more sophisticated\n                // Basic validation: prevent access to other tenants\n                // This is a simple approach - in production you'd want to include tenant slug in JWT\n                // or implement a more robust tenant resolution system\n                // For demo purposes, we'll allow access only if the user is authenticated\n                // and redirect to login with error if they try to access unauthorized areas\n                // Log the access attempt for security monitoring\n                console.log(`User ${user.email} (tenant: ${user.tenantId}) accessing /admin/${tenantSlug}`);\n                // This is a basic implementation - for full security you'd want to:\n                // 1. Include tenant slug in JWT during login\n                // 2. Compare JWT tenant slug with URL tenant slug\n                // 3. Or resolve tenant slug to ID and compare with user.tenantId\n                // For now, we ensure the user is authenticated and log access\n                if (!user.tenantId) {\n                    const accessDeniedUrl = new URL('/login?error=access_denied', request.url);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(accessDeniedUrl);\n                }\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMxRCw4RkFBOEY7Z0JBRTlGLG9EQUFvRDtnQkFDcEQscUZBQXFGO2dCQUNyRixzREFBc0Q7Z0JBRXRELDBFQUEwRTtnQkFDMUUsNEVBQTRFO2dCQUU1RSxpREFBaUQ7Z0JBQ2pESixRQUFRbUIsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFZixLQUFLTixLQUFLLENBQUMsVUFBVSxFQUFFTSxLQUFLUixRQUFRLENBQUMsbUJBQW1CLEVBQUVzQixZQUFZO2dCQUUxRixvRUFBb0U7Z0JBQ3BFLDZDQUE2QztnQkFDN0Msa0RBQWtEO2dCQUNsRCxpRUFBaUU7Z0JBRWpFLDhEQUE4RDtnQkFDOUQsSUFBSSxDQUFDZCxLQUFLUixRQUFRLEVBQUU7b0JBQ2xCLE1BQU13QixrQkFBa0IsSUFBSVAsSUFBSSw4QkFBOEI5QixRQUFRK0IsR0FBRztvQkFDekUsT0FBT2xDLHFEQUFZQSxDQUFDbUMsUUFBUSxDQUFDSztnQkFDL0I7WUFDRjtRQUNGO1FBRUEsT0FBT3hDLHFEQUFZQSxDQUFDOEIsSUFBSTtJQUMxQjtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL2xpYi9taWRkbGV3YXJlL2F1dGgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHZlcmlmeUpXVCB9IGZyb20gJ0AvbGliL2F1dGgnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhVc2VyIHtcbiAgdXNlcklkOiBzdHJpbmc7XG4gIHRlbmFudElkOiBzdHJpbmc7XG4gIHJvbGU6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEF1dGhUb2tlbihyZXF1ZXN0OiBOZXh0UmVxdWVzdCk6IHN0cmluZyB8IG51bGwge1xuICAvLyBUcnkgY29va2llIGZpcnN0IChtb3JlIHNlY3VyZSlcbiAgY29uc3QgY29va2llVG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KCdhdXRoLXRva2VuJyk/LnZhbHVlO1xuICBpZiAoY29va2llVG9rZW4pIHtcbiAgICByZXR1cm4gY29va2llVG9rZW47XG4gIH1cbiAgXG4gIC8vIEZhbGwgYmFjayB0byBBdXRob3JpemF0aW9uIGhlYWRlclxuICBjb25zdCBhdXRoSGVhZGVyID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnYXV0aG9yaXphdGlvbicpO1xuICBpZiAoYXV0aEhlYWRlciAmJiBhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkge1xuICAgIHJldHVybiBhdXRoSGVhZGVyLnN1YnN0cmluZyg3KTtcbiAgfVxuICBcbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlBdXRoVG9rZW4odG9rZW46IHN0cmluZyk6IEF1dGhVc2VyIHwgbnVsbCB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IHZlcmlmeUpXVCh0b2tlbik7XG4gICAgaWYgKCFwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdXNlcklkOiBwYXlsb2FkLnVzZXJJZCxcbiAgICAgIHRlbmFudElkOiBwYXlsb2FkLnRlbmFudElkLFxuICAgICAgcm9sZTogcGF5bG9hZC5yb2xlLFxuICAgICAgZW1haWw6IHBheWxvYWQuZW1haWwsXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdUb2tlbiB2ZXJpZmljYXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZUF1dGgocmVxdWVzdDogTmV4dFJlcXVlc3QpOiB7IHVzZXI6IEF1dGhVc2VyIH0gfCB7IGVycm9yOiBOZXh0UmVzcG9uc2UgfSB7XG4gIGNvbnN0IHRva2VuID0gZ2V0QXV0aFRva2VuKHJlcXVlc3QpO1xuICBcbiAgaWYgKCF0b2tlbikge1xuICAgIHJldHVybiB7IFxuICAgICAgZXJyb3I6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQnIH0sIFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICkgXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHVzZXIgPSB2ZXJpZnlBdXRoVG9rZW4odG9rZW4pO1xuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4geyBcbiAgICAgIGVycm9yOiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0ludmFsaWQgb3IgZXhwaXJlZCB0b2tlbicgfSwgXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgKSBcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHsgdXNlciB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZVRlbmFudEFjY2Vzcyh1c2VyOiBBdXRoVXNlciwgdGVuYW50SWQ6IHN0cmluZyk6IE5leHRSZXNwb25zZSB8IG51bGwge1xuICBpZiAodXNlci50ZW5hbnRJZCAhPT0gdGVuYW50SWQpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnQWNjZXNzIGRlbmllZCAtIGluc3VmZmljaWVudCBwZXJtaXNzaW9ucycgfSxcbiAgICAgIHsgc3RhdHVzOiA0MDMgfVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBdXRoTWlkZGxld2FyZSgpIHtcbiAgcmV0dXJuIChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkgPT4ge1xuICAgIGNvbnN0IHsgcGF0aG5hbWUgfSA9IHJlcXVlc3QubmV4dFVybDtcbiAgICBcbiAgICAvLyBTa2lwIGF1dGggZm9yIHB1YmxpYyByb3V0ZXNcbiAgICBpZiAoXG4gICAgICBwYXRobmFtZS5zdGFydHNXaXRoKCcvYXBpL2hlYWx0aCcpIHx8XG4gICAgICBwYXRobmFtZS5zdGFydHNXaXRoKCcvbG9naW4nKSB8fFxuICAgICAgcGF0aG5hbWUuc3RhcnRzV2l0aCgnL19uZXh0JykgfHxcbiAgICAgIHBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9hcGkvdjEvcmVnaXN0ZXInKSB8fFxuICAgICAgcGF0aG5hbWUuaW5jbHVkZXMoJy4nKVxuICAgICkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XG4gICAgfVxuXG4gICAgLy8gUmVxdWlyZSBhdXRoIGZvciBhZG1pbiByb3V0ZXNcbiAgICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aCgnL2FkbWluJykpIHtcbiAgICAgIGNvbnN0IGF1dGhSZXN1bHQgPSByZXF1aXJlQXV0aChyZXF1ZXN0KTtcbiAgICAgIFxuICAgICAgaWYgKCdlcnJvcicgaW4gYXV0aFJlc3VsdCkge1xuICAgICAgICAvLyBSZWRpcmVjdCB0byBsb2dpbiBwYWdlIGluc3RlYWQgb2YgcmV0dXJuaW5nIEpTT05cbiAgICAgICAgY29uc3QgbG9naW5VcmwgPSBuZXcgVVJMKCcvbG9naW4nLCByZXF1ZXN0LnVybCk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobG9naW5VcmwpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBFeHRyYWN0IHRlbmFudCBmcm9tIFVSTCBhbmQgdmVyaWZ5IGFjY2Vzc1xuICAgICAgY29uc3QgcGF0aFBhcnRzID0gcGF0aG5hbWUuc3BsaXQoJy8nKTtcbiAgICAgIGNvbnN0IHRlbmFudFNsdWcgPSBwYXRoUGFydHNbMl07IC8vIC9hZG1pbi9bdGVuYW50XVxuICAgICAgXG4gICAgICBpZiAodGVuYW50U2x1Zykge1xuICAgICAgICAvLyBGb3Igc2VjdXJpdHksIHdlJ2xsIGNoZWNrIHRlbmFudCBhY2Nlc3MgdXNpbmcgSldUIHBheWxvYWRcbiAgICAgICAgLy8gVGhlIEpXVCBzaG91bGQgY29udGFpbiB0ZW5hbnQgaW5mb3JtYXRpb24gdGhhdCB3ZSBjYW4gdmVyaWZ5XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhdXRoUmVzdWx0LnVzZXI7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3Igbm93LCB3ZSdsbCBpbXBsZW1lbnQgYSBiYXNpYyB0ZW5hbnQgc2x1ZyB2YWxpZGF0aW9uXG4gICAgICAgIC8vIEluIGEgcHJvZHVjdGlvbiBzeXN0ZW0sIHlvdSdkIHN0b3JlIHRlbmFudCBzbHVnIGluIEpXVCBvciBtYWtlIHRoZSBjaGVjayBtb3JlIHNvcGhpc3RpY2F0ZWRcbiAgICAgICAgXG4gICAgICAgIC8vIEJhc2ljIHZhbGlkYXRpb246IHByZXZlbnQgYWNjZXNzIHRvIG90aGVyIHRlbmFudHNcbiAgICAgICAgLy8gVGhpcyBpcyBhIHNpbXBsZSBhcHByb2FjaCAtIGluIHByb2R1Y3Rpb24geW91J2Qgd2FudCB0byBpbmNsdWRlIHRlbmFudCBzbHVnIGluIEpXVFxuICAgICAgICAvLyBvciBpbXBsZW1lbnQgYSBtb3JlIHJvYnVzdCB0ZW5hbnQgcmVzb2x1dGlvbiBzeXN0ZW1cbiAgICAgICAgXG4gICAgICAgIC8vIEZvciBkZW1vIHB1cnBvc2VzLCB3ZSdsbCBhbGxvdyBhY2Nlc3Mgb25seSBpZiB0aGUgdXNlciBpcyBhdXRoZW50aWNhdGVkXG4gICAgICAgIC8vIGFuZCByZWRpcmVjdCB0byBsb2dpbiB3aXRoIGVycm9yIGlmIHRoZXkgdHJ5IHRvIGFjY2VzcyB1bmF1dGhvcml6ZWQgYXJlYXNcbiAgICAgICAgXG4gICAgICAgIC8vIExvZyB0aGUgYWNjZXNzIGF0dGVtcHQgZm9yIHNlY3VyaXR5IG1vbml0b3JpbmdcbiAgICAgICAgY29uc29sZS5sb2coYFVzZXIgJHt1c2VyLmVtYWlsfSAodGVuYW50OiAke3VzZXIudGVuYW50SWR9KSBhY2Nlc3NpbmcgL2FkbWluLyR7dGVuYW50U2x1Z31gKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRoaXMgaXMgYSBiYXNpYyBpbXBsZW1lbnRhdGlvbiAtIGZvciBmdWxsIHNlY3VyaXR5IHlvdSdkIHdhbnQgdG86XG4gICAgICAgIC8vIDEuIEluY2x1ZGUgdGVuYW50IHNsdWcgaW4gSldUIGR1cmluZyBsb2dpblxuICAgICAgICAvLyAyLiBDb21wYXJlIEpXVCB0ZW5hbnQgc2x1ZyB3aXRoIFVSTCB0ZW5hbnQgc2x1Z1xuICAgICAgICAvLyAzLiBPciByZXNvbHZlIHRlbmFudCBzbHVnIHRvIElEIGFuZCBjb21wYXJlIHdpdGggdXNlci50ZW5hbnRJZFxuICAgICAgICBcbiAgICAgICAgLy8gRm9yIG5vdywgd2UgZW5zdXJlIHRoZSB1c2VyIGlzIGF1dGhlbnRpY2F0ZWQgYW5kIGxvZyBhY2Nlc3NcbiAgICAgICAgaWYgKCF1c2VyLnRlbmFudElkKSB7XG4gICAgICAgICAgY29uc3QgYWNjZXNzRGVuaWVkVXJsID0gbmV3IFVSTCgnL2xvZ2luP2Vycm9yPWFjY2Vzc19kZW5pZWQnLCByZXF1ZXN0LnVybCk7XG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChhY2Nlc3NEZW5pZWRVcmwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XG4gIH07XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInZlcmlmeUpXVCIsImdldEF1dGhUb2tlbiIsInJlcXVlc3QiLCJjb29raWVUb2tlbiIsImNvb2tpZXMiLCJnZXQiLCJ2YWx1ZSIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwic3RhcnRzV2l0aCIsInN1YnN0cmluZyIsInZlcmlmeUF1dGhUb2tlbiIsInRva2VuIiwicGF5bG9hZCIsInVzZXJJZCIsInRlbmFudElkIiwicm9sZSIsImVtYWlsIiwiZXJyb3IiLCJjb25zb2xlIiwicmVxdWlyZUF1dGgiLCJqc29uIiwic3RhdHVzIiwidXNlciIsInJlcXVpcmVUZW5hbnRBY2Nlc3MiLCJjcmVhdGVBdXRoTWlkZGxld2FyZSIsInBhdGhuYW1lIiwibmV4dFVybCIsImluY2x1ZGVzIiwibmV4dCIsImF1dGhSZXN1bHQiLCJsb2dpblVybCIsIlVSTCIsInVybCIsInJlZGlyZWN0IiwicGF0aFBhcnRzIiwic3BsaXQiLCJ0ZW5hbnRTbHVnIiwibG9nIiwiYWNjZXNzRGVuaWVkVXJsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./lib/middleware/auth.ts\n");

/***/ }),

/***/ "(middleware)/./middleware.ts":
/*!***********************!*\
  !*** ./middleware.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var _lib_middleware_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/middleware/auth */ \"(middleware)/./lib/middleware/auth.ts\");\n\nfunction middleware(request) {\n    return (0,_lib_middleware_auth__WEBPACK_IMPORTED_MODULE_0__.createAuthMiddleware)()(request);\n}\nconst config = {\n    matcher: [\n        /*\n     * Match all request paths except for the ones starting with:\n     * - api (API routes)\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     */ '/((?!_next/static|_next/image|favicon.ico).*)'\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbWlkZGxld2FyZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDNkQ7QUFFdEQsU0FBU0MsV0FBV0MsT0FBb0I7SUFDN0MsT0FBT0YsMEVBQW9CQSxHQUFHRTtBQUNoQztBQUVPLE1BQU1DLFNBQVM7SUFDcEJDLFNBQVM7UUFDUDs7Ozs7O0tBTUMsR0FDRDtLQUNEO0FBQ0gsRUFBRSIsInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9taWRkbGV3YXJlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgY3JlYXRlQXV0aE1pZGRsZXdhcmUgfSBmcm9tICdAL2xpYi9taWRkbGV3YXJlL2F1dGgnO1xuXG5leHBvcnQgZnVuY3Rpb24gbWlkZGxld2FyZShyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICByZXR1cm4gY3JlYXRlQXV0aE1pZGRsZXdhcmUoKShyZXF1ZXN0KTtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgbWF0Y2hlcjogW1xuICAgIC8qXG4gICAgICogTWF0Y2ggYWxsIHJlcXVlc3QgcGF0aHMgZXhjZXB0IGZvciB0aGUgb25lcyBzdGFydGluZyB3aXRoOlxuICAgICAqIC0gYXBpIChBUEkgcm91dGVzKVxuICAgICAqIC0gX25leHQvc3RhdGljIChzdGF0aWMgZmlsZXMpXG4gICAgICogLSBfbmV4dC9pbWFnZSAoaW1hZ2Ugb3B0aW1pemF0aW9uIGZpbGVzKVxuICAgICAqIC0gZmF2aWNvbi5pY28gKGZhdmljb24gZmlsZSlcbiAgICAgKi9cbiAgICAnLygoPyFfbmV4dC9zdGF0aWN8X25leHQvaW1hZ2V8ZmF2aWNvbi5pY28pLiopJyxcbiAgXSxcbn07Il0sIm5hbWVzIjpbImNyZWF0ZUF1dGhNaWRkbGV3YXJlIiwibWlkZGxld2FyZSIsInJlcXVlc3QiLCJjb25maWciLCJtYXRjaGVyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./middleware.ts\n");

/***/ })

});